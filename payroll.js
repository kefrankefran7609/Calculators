const inputs=document.querySelectorAll(".input");inputs.forEach(input=>{input.value="0",input.addEventListener("change",e=>{""===e.path[0].value&&(input.value="0")})}),document.querySelector("#calculate").addEventListener("click",e=>{e.preventDefault();var salary=document.querySelector("#salary").value,frequency=document.querySelector("#frequency").value,years=document.querySelector("#years").value,country=document.querySelector("#country").value,primaryRate=.12,upperRate=.02,bracket4=0,bracket5=0;if("19-20"===years||"20-21"===years&&"scotland"!=country)var gross1=12500,gross2=37500,gross3=1e5;if("21-22"===years||"22-23aj"===years||"22-23jn"===years||"22-23na"===years&&"scotland"!=country)var gross1=12570,gross2=37700,gross3=99730;if("19-20"===years&&"scotland"===country)var gross1=12500,gross2=2049,gross3=10395,gross4=18486,gross5=106570;if("20-21"===years&&"scotland"===country)var gross1=12500,gross2=2085,gross3=10573,gross4=18272,gross5=106570;if("21-22"===years&&"scotland"===country)var gross1=12570,gross2=2097,gross3=10629,gross4=18366,gross5=106338;if("22-23aj"===years||"22-23jn"===years||"22-23na"===years&&"scotland"===country)var gross1=12570,gross2=2162,gross3=10956,gross4=17974,gross5=106338;if("19-20"===years)var primaryTreshold=719,upperEarnings=4167;if("20-21"===years)var primaryTreshold=792,upperEarnings=4167;if("21-22"===years)var primaryTreshold=797,upperEarnings=4189;if("22-23aj"===years)var primaryTreshold=823,upperEarnings=4189,primaryRate=.1325,upperRate=.0325;if("22-23jn"===years)var primaryTreshold=1048,upperEarnings=4189,primaryRate=.1325,upperRate=.0325;if("22-23na"===years)var primaryTreshold=1048,upperEarnings=4189,primaryRate=.12,upperRate=.02;if("month"===frequency?salary*=12:"week"===frequency&&(salary*=52),"scotland"===country)var taxRate1=.19,taxRate2=.2,taxRate3=.21,taxRate4=.41,taxRate5=.46;else var taxRate1=.2,taxRate2=.4,taxRate3=.45;if(document.querySelector("#payroll").textContent="19-20"===years||"20-21"===years?salary>1e5?Math.max(0,12500-.5*(salary-1e5)).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"12,500.00":salary>1e5?Math.max(0,12570-.5*(salary-1e5)).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"12,570.00","19-20"===years||"20-21"===years)if(salary>1e5)var revisedTax=Math.max(0,12500-.5*(salary-1e5));else var revisedTax=0;else if(salary>1e5)var revisedTax=Math.max(0,12570-.5*(salary-1e5));else var revisedTax=0;if("scotland"!=country)if(salary>1e5)var additionalTax=.4*(gross1-revisedTax);else var additionalTax=0;else if(salary>1e5)var additionalTax=.41*(gross1-revisedTax);else var additionalTax=0;if(salary>gross1+gross2)var bracket1=gross2*taxRate1;else if(salary<gross1)var bracket1=0;else var bracket1=(salary-gross1)*taxRate1;if(salary>gross1+gross2+gross3)var bracket2=gross3*taxRate2;else if(salary<gross1+gross2)var bracket2=0;else var bracket2=(salary-gross1-gross2)*taxRate2;if("scotland"!=country)if(salary>15e4)var bracket3=(salary-15e4)*taxRate3;else var bracket3=0;else if(salary>gross1+gross2+gross3+gross4)var bracket3=gross4*taxRate3;else if(salary<gross2+gross3)var bracket3=0;else var bracket3=(salary-gross1-gross2-gross3)*taxRate3;if("scotland"===country&&(bracket4=salary>gross1+gross2+gross3+gross4+gross5?gross5*taxRate4:salary<gross3+gross4?0:(salary-gross1-gross2-gross3-gross4)*taxRate4),"scotland"===country&&(bracket5=salary>15e4?(salary-15e4)*taxRate5:0),salary/12>upperEarnings)var between=(upperEarnings-primaryTreshold)*primaryRate;else if(salary/12<primaryTreshold)var between=0;else var between=(salary/12-primaryTreshold)*primaryRate;if(salary/12>upperEarnings)var uel=(salary/12-upperEarnings)*upperRate;else var uel=0;if("19-20"===years||"20-21"===years||"21-22"===years)var totalInsurance=12*(between+uel);if("22-23aj"===years)var totalInsurance=3*(between+uel);if("22-23jn"===years)var totalInsurance=4*(between+uel);if("22-23na"===years)var totalInsurance=5*(between+uel);document.querySelector("#totalIncome").textContent=(bracket1+bracket2+bracket3+bracket4+bracket5+additionalTax).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),document.querySelector("#totalInsurance").textContent=totalInsurance.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),document.querySelector("#totalTaxes").textContent=(bracket1+bracket2+bracket3+bracket4+bracket5+additionalTax+totalInsurance).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),document.querySelector("#netIncome").textContent=(salary-(bracket1+bracket2+bracket3+bracket4+bracket5+additionalTax+totalInsurance)).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")});
